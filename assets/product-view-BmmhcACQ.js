import{a4 as oa,j as o,k as ra,g as la,h as Q,l as c,_ as k,n as h,r as p,i as ta,a as na,a5 as ca,a6 as G,b as T,f as ia,G as sa,T as q,P as d,B as da,H as pa,I as ua,y as ga,J as ba,C as fa,F as va,S as Ca,K as xa,E as ya}from"./index-CBv1zAM1.js";import{T as U,a as m,b as $a,c as ha,s as ma,d as ka,e as ja,f as Ia,g as Pa}from"./search-fill-gI9diOAi.js";import{O as Ra}from"./Select-KMQscyCo.js";import{C as Ta}from"./Container-DnFR7a07.js";import{C as Sa}from"./Card-DUtNAfYw.js";const Oa=oa(o.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function za(a){return la("MuiChip",a)}const Da=ra("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),r=Da,Na=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Ea=a=>{const{classes:e,disabled:i,size:l,color:t,iconColor:s,onDelete:f,clickable:b,variant:v}=a,x={root:["root",v,i&&"disabled",`size${c(l)}`,`color${c(t)}`,b&&"clickable",b&&`clickableColor${c(t)}`,f&&"deletable",f&&`deletableColor${c(t)}`,`${v}${c(t)}`],label:["label",`label${c(l)}`],avatar:["avatar",`avatar${c(l)}`,`avatarColor${c(t)}`],icon:["icon",`icon${c(l)}`,`iconColor${c(s)}`],deleteIcon:["deleteIcon",`deleteIcon${c(l)}`,`deleteIconColor${c(t)}`,`deleteIcon${c(v)}Color${c(t)}`]};return ia(x,za,e)},La=Q("div",{name:"MuiChip",slot:"Root",overridesResolver:(a,e)=>{const{ownerState:i}=a,{color:l,iconColor:t,clickable:s,onDelete:f,size:b,variant:v}=i;return[{[`& .${r.avatar}`]:e.avatar},{[`& .${r.avatar}`]:e[`avatar${c(b)}`]},{[`& .${r.avatar}`]:e[`avatarColor${c(l)}`]},{[`& .${r.icon}`]:e.icon},{[`& .${r.icon}`]:e[`icon${c(b)}`]},{[`& .${r.icon}`]:e[`iconColor${c(t)}`]},{[`& .${r.deleteIcon}`]:e.deleteIcon},{[`& .${r.deleteIcon}`]:e[`deleteIcon${c(b)}`]},{[`& .${r.deleteIcon}`]:e[`deleteIconColor${c(l)}`]},{[`& .${r.deleteIcon}`]:e[`deleteIcon${c(v)}Color${c(l)}`]},e.root,e[`size${c(b)}`],e[`color${c(l)}`],s&&e.clickable,s&&l!=="default"&&e[`clickableColor${c(l)})`],f&&e.deletable,f&&l!=="default"&&e[`deletableColor${c(l)}`],e[v],e[`${v}${c(l)}`]]}})(({theme:a,ownerState:e})=>{const i=a.palette.mode==="light"?a.palette.grey[700]:a.palette.grey[300];return k({maxWidth:"100%",fontFamily:a.typography.fontFamily,fontSize:a.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(a.vars||a).palette.text.primary,backgroundColor:(a.vars||a).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:a.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${r.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${r.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:a.vars?a.vars.palette.Chip.defaultAvatarColor:i,fontSize:a.typography.pxToRem(12)},[`& .${r.avatarColorPrimary}`]:{color:(a.vars||a).palette.primary.contrastText,backgroundColor:(a.vars||a).palette.primary.dark},[`& .${r.avatarColorSecondary}`]:{color:(a.vars||a).palette.secondary.contrastText,backgroundColor:(a.vars||a).palette.secondary.dark},[`& .${r.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:a.typography.pxToRem(10)},[`& .${r.icon}`]:k({marginLeft:5,marginRight:-6},e.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},e.iconColor===e.color&&k({color:a.vars?a.vars.palette.Chip.defaultIconColor:i},e.color!=="default"&&{color:"inherit"})),[`& .${r.deleteIcon}`]:k({WebkitTapHighlightColor:"transparent",color:a.vars?`rgba(${a.vars.palette.text.primaryChannel} / 0.26)`:h(a.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:a.vars?`rgba(${a.vars.palette.text.primaryChannel} / 0.4)`:h(a.palette.text.primary,.4)}},e.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},e.color!=="default"&&{color:a.vars?`rgba(${a.vars.palette[e.color].contrastTextChannel} / 0.7)`:h(a.palette[e.color].contrastText,.7),"&:hover, &:active":{color:(a.vars||a).palette[e.color].contrastText}})},e.size==="small"&&{height:24},e.color!=="default"&&{backgroundColor:(a.vars||a).palette[e.color].main,color:(a.vars||a).palette[e.color].contrastText},e.onDelete&&{[`&.${r.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.action.selectedChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.focusOpacity}))`:h(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}},e.onDelete&&e.color!=="default"&&{[`&.${r.focusVisible}`]:{backgroundColor:(a.vars||a).palette[e.color].dark}})},({theme:a,ownerState:e})=>k({},e.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:a.vars?`rgba(${a.vars.palette.action.selectedChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.hoverOpacity}))`:h(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity)},[`&.${r.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.action.selectedChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.focusOpacity}))`:h(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)},"&:active":{boxShadow:(a.vars||a).shadows[1]}},e.clickable&&e.color!=="default"&&{[`&:hover, &.${r.focusVisible}`]:{backgroundColor:(a.vars||a).palette[e.color].dark}}),({theme:a,ownerState:e})=>k({},e.variant==="outlined"&&{backgroundColor:"transparent",border:a.vars?`1px solid ${a.vars.palette.Chip.defaultBorder}`:`1px solid ${a.palette.mode==="light"?a.palette.grey[400]:a.palette.grey[700]}`,[`&.${r.clickable}:hover`]:{backgroundColor:(a.vars||a).palette.action.hover},[`&.${r.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`& .${r.avatar}`]:{marginLeft:4},[`& .${r.avatarSmall}`]:{marginLeft:2},[`& .${r.icon}`]:{marginLeft:4},[`& .${r.iconSmall}`]:{marginLeft:2},[`& .${r.deleteIcon}`]:{marginRight:5},[`& .${r.deleteIconSmall}`]:{marginRight:3}},e.variant==="outlined"&&e.color!=="default"&&{color:(a.vars||a).palette[e.color].main,border:`1px solid ${a.vars?`rgba(${a.vars.palette[e.color].mainChannel} / 0.7)`:h(a.palette[e.color].main,.7)}`,[`&.${r.clickable}:hover`]:{backgroundColor:a.vars?`rgba(${a.vars.palette[e.color].mainChannel} / ${a.vars.palette.action.hoverOpacity})`:h(a.palette[e.color].main,a.palette.action.hoverOpacity)},[`&.${r.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette[e.color].mainChannel} / ${a.vars.palette.action.focusOpacity})`:h(a.palette[e.color].main,a.palette.action.focusOpacity)},[`& .${r.deleteIcon}`]:{color:a.vars?`rgba(${a.vars.palette[e.color].mainChannel} / 0.7)`:h(a.palette[e.color].main,.7),"&:hover, &:active":{color:(a.vars||a).palette[e.color].main}}})),_a=Q("span",{name:"MuiChip",slot:"Label",overridesResolver:(a,e)=>{const{ownerState:i}=a,{size:l}=i;return[e.label,e[`label${c(l)}`]]}})(({ownerState:a})=>k({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},a.size==="small"&&{paddingLeft:8,paddingRight:8}));function J(a){return a.key==="Backspace"||a.key==="Delete"}const Fa=p.forwardRef(function(e,i){const l=ta({props:e,name:"MuiChip"}),{avatar:t,className:s,clickable:f,color:b="default",component:v,deleteIcon:x,disabled:y=!1,icon:$,label:j,onClick:N,onDelete:u,onKeyDown:E,onKeyUp:L,size:W="medium",variant:_="filled",tabIndex:F,skipFocusWhenDisabled:V=!1}=l,M=na(l,Na),P=p.useRef(null),A=ca(P,i),K=g=>{g.stopPropagation(),u&&u(g)},H=g=>{g.currentTarget===g.target&&J(g)&&g.preventDefault(),E&&E(g)},w=g=>{g.currentTarget===g.target&&(u&&J(g)?u(g):g.key==="Escape"&&P.current&&P.current.blur()),L&&L(g)},S=f!==!1&&N?!0:f,R=S||u?G:v||"div",O=k({},l,{component:R,disabled:y,size:W,color:b,iconColor:p.isValidElement($)&&$.props.color||b,onDelete:!!u,clickable:S,variant:_}),n=Ea(O),C=R===G?k({component:v||"div",focusVisibleClassName:n.focusVisible},u&&{disableRipple:!0}):{};let I=null;u&&(I=x&&p.isValidElement(x)?p.cloneElement(x,{className:T(x.props.className,n.deleteIcon),onClick:K}):o.jsx(Oa,{className:T(n.deleteIcon),onClick:K}));let z=null;t&&p.isValidElement(t)&&(z=p.cloneElement(t,{className:T(n.avatar,t.props.className)}));let B=null;return $&&p.isValidElement($)&&(B=p.cloneElement($,{className:T(n.icon,$.props.className)})),o.jsxs(La,k({as:R,className:T(n.root,s),disabled:S&&y?!0:void 0,onClick:N,onKeyDown:H,onKeyUp:w,ref:A,tabIndex:V&&y?-1:F,ownerState:O},C,M,{children:[z||B,o.jsx(_a,{className:T(n.label),ownerState:O,children:j}),I]}))}),Va=Fa,Ma={border:0,margin:-1,padding:0,width:"1px",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",clip:"rect(0 0 0 0)"};function Ka(a,e,i){return a?Math.max(0,(1+a)*e-i):0}function X({query:a}){return o.jsx(U,{children:o.jsx(m,{align:"center",colSpan:6,sx:{py:3},children:o.jsxs(sa,{sx:{textAlign:"center"},children:[o.jsx(q,{variant:"h6",paragraph:!0,children:"Not found"}),o.jsxs(q,{variant:"body2",children:["No results found for  ",o.jsxs("strong",{children:['"',a,'"']}),".",o.jsx("br",{})," Try checking for typos or using complete words."]})]})})})}X.propTypes={query:d.string};function Y({emptyRows:a,height:e}){return a?o.jsx(U,{sx:{...e&&{height:e*a}},children:o.jsx(m,{colSpan:9})}):null}Y.propTypes={emptyRows:d.number,height:d.number};function Z({id:a,default_code:e,name:i,category:l,type:t,lst_price:s,description_sale:f,attributes:b,onSelect:v}){const x=y=>`$${y.toFixed(2)}`;return o.jsxs(U,{hover:!0,tabIndex:-1,onClick:()=>v({id:a,default_code:e,name:i,category:l,type:t,lst_price:s,description_sale:f,attributes:b}),children:[o.jsx(m,{children:e}),o.jsx(m,{children:i}),o.jsx(m,{children:l}),o.jsx(m,{children:t}),o.jsx(m,{children:x(s)}),o.jsx(m,{children:f}),o.jsx(m,{children:b.map((y,$)=>o.jsx(Va,{label:y,variant:"outlined"},$))})]})}Z.propTypes={id:d.any,default_code:d.any,name:d.any,category:d.any,type:d.any,lst_price:d.any,description_sale:d.any,attributes:d.arrayOf(d.string),onSelect:d.func};function aa({order:a,orderBy:e,headLabel:i,onRequestSort:l}){const t=s=>f=>{l(f,s)};return o.jsx($a,{children:o.jsx(U,{children:i.map(s=>o.jsx(m,{align:s.align||"left",sortDirection:e===s.id?a:!1,sx:{width:s.width,minWidth:s.minWidth},children:o.jsxs(ha,{hideSortIcon:!0,active:e===s.id,direction:e===s.id?a:"desc",onClick:t(s.id),children:[s.label,e===s.id?o.jsx(da,{sx:{...Ma},children:a==="desc"?"sorted descending":"sorted ascending"}):null]})},s.id))})})}aa.propTypes={order:d.oneOf(["asc","desc"]),orderBy:d.string,headLabel:d.array,onRequestSort:d.func};function ea({filterName:a,onFilterName:e,onClickSearch:i,onHitEnter:l}){return o.jsx(pa,{sx:{height:96,display:"flex",justifyContent:"space-between",p:t=>t.spacing(0,1,0,3)},children:o.jsx(Ra,{value:a,onChange:e,onKeyDown:l,placeholder:"Search product...",endAdornment:o.jsx(ua,{position:"end",children:o.jsx(ga,{onClick:i,edge:"end",children:o.jsx(ba,{icon:ma,sx:{color:"text.disabled",width:20,height:20}})})})})})}ea.propTypes={filterName:d.string,onFilterName:d.func,onClickSearch:d.func,onHitEnter:d.func};function Ba({showTitle:a,onSelect:e}){const[i,l]=p.useState([]),[t,s]=p.useState(0),[f,b]=p.useState(0),[v,x]=p.useState("asc"),[y,$]=p.useState("name"),[j,N]=p.useState(""),[u,E]=p.useState(25),[L,W]=p.useState(0),_=p.useRef(i),F=p.useRef(u),V=p.useRef(t),M=p.useRef(j);p.useEffect(()=>{_.current=i,F.current=u,V.current=t,M.current=j,P(V.current,F.current,_.current,M.current)},[]);const P=(n,C,I,z)=>{console.log("Fetching Products");const B=n+1;let g=`${ya.baseURL}/api-proxy/proxy?method=get&resource=products&page=${B}&page_size=${C}`;z&&(g+=`&name=${z}`),console.log(g),fa.get(g,{headers:{Authorization:`Bearer ${va.get("jwt")}`}}).then(D=>{console.log(D.data.data),l([...I,...D.data.data]),W(D.data.count)}).catch(D=>{console.error("Error fetching products:",D)})},A=(n,C)=>{C!==""&&(x(y===C&&v==="asc"?"desc":"asc"),$(C))},K=(n,C)=>{s(C);const I=u*C;I>f&&(b(I),P(C,u,i,j))},H=n=>{s(0),E(parseInt(n.target.value,10))},w=n=>{N(n.target.value)},S=n=>{n.key==="Enter"&&R()},R=n=>{s(0),P(t,u,[],j)},O=!i.length&&!!j;return o.jsxs(Ta,{children:[a&&o.jsx(Ca,{direction:"row",alignItems:"center",justifyContent:"space-between",mb:5,children:o.jsx(q,{variant:"h4",children:"Products"})}),o.jsxs(Sa,{children:[o.jsx(ea,{filterName:j,onFilterName:w,onClickSearch:R,onHitEnter:S}),o.jsx(xa,{children:o.jsx(ka,{sx:{overflow:"unset"},children:o.jsxs(ja,{sx:{minWidth:800},children:[o.jsx(aa,{order:v,orderBy:y,rowCount:i.length,onRequestSort:A,headLabel:[{id:"default_code",label:"Default Code"},{id:"name",label:"Name"},{id:"category",label:"Category"},{id:"type",label:"Type"},{id:"lst_price",label:"Sale Price"},{id:"description_sale",label:"Description"},{id:"attributes",label:"Attributes"}]}),o.jsxs(Ia,{children:[i.slice(t*u,t*u+u).map(n=>o.jsx(Z,{id:n.id,default_code:n.default_code,name:n.name,category:n.categ_id.name,type:n.type,lst_price:n.lst_price,description_sale:n.description_sale,attributes:n.product_template_attribute_value_ids.map(C=>`${C.attribute}:${C.name}`),onSelect:e},n.id)),o.jsx(Y,{height:77,emptyRows:Ka(t,u,i.length)}),O&&o.jsx(X,{query:j})]})]})})}),o.jsx(Pa,{page:t,component:"div",count:L,rowsPerPage:u,onPageChange:K,rowsPerPageOptions:[25],onRowsPerPageChange:H})]})]})}Ba.propTypes={showTitle:d.bool,onSelect:d.func};export{Va as C,Ba as P};
